<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const promise1 = new Promise((resolve) => {
        setTimeout(() => {
          resolve("promise 1 resolved");
        }, 2000);
      });
      const promise2 = new Promise((resolve) => {
        setTimeout(() => {
          resolve("promise 2 resolved");
        }, 2000);
      });
      const promise3 = (params) => {
        return new Promise((resolve) => {
          setTimeout(() => {
            resolve(params);
          }, 5000);
        });
      };

      const callerTwo = async () => {
        // try {
        //   const result = await promise1;
        //   console.log(result);
        //   return result;
        // } catch (err) {
        //   console.log(err);
        // }

        promise1.then((res) => {
          console.log(res);
          return res;
        });
      };

      const callerOne = async () => {
        console.log("foo");
        const promiseResult = await callerTwo();
        // console.log(promiseResult);
        console.log("bar");
      };

      // console.log("start");
      // callerOne();
      // console.log("end");

      const promiseCaller = async () => {
        const result = await promise1;
        console.log(result);
        return result;
      };

      const callFn = async () => {
        // promiseCaller().then((res) => {
        //   console.log(res);
        //   promise3(`result of ${res}`).then((response) => {
        //     console.log(response);
        //   });
        // });
        // const promise1Result = await promiseCaller();
        // const promise3Result = await promise3(`result of ${promise1Result}`);
        // console.log(promise1Result);
        // console.log(promise3Result);
      };

      // console.log("start");
      // promise1.then((res) => {
      //   console.log(res);
      //   promise3(`result of ${res}`).then((res) => {
      //     console.log(res);
      //   });
      // });
      // console.log("end");
      callFn();
    </script>
  </body>
</html>
